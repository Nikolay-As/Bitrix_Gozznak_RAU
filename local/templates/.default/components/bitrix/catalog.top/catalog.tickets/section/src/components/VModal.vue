<template>
  <div class="v-modal">
    <transition name="modal">
      <div class="v-modal-mask" v-if="showModal">
        <div class="v-modal-wrapper">
          <div class="v-modal-container">
            <div class="v-modal-close" @click="closeModal">
              <svg xmlns="http://www.w3.org/2000/svg" width="11" height="12" viewBox="0 0 11 12" fill="none">
                <path d="M6.70499 6.00009L10.85 1.85509C10.9319 1.75944 10.9747 1.6364 10.9698 1.51057C10.965 1.38473 10.9128 1.26536 10.8238 1.17631C10.7347 1.08726 10.6154 1.0351 10.4895 1.03024C10.3637 1.02538 10.2406 1.06818 10.145 1.15009L5.99999 5.29509L1.85499 1.14509C1.76083 1.05094 1.63314 0.998047 1.49999 0.998047C1.36684 0.998047 1.23914 1.05094 1.14499 1.14509C1.05083 1.23924 0.997941 1.36694 0.997941 1.50009C0.997941 1.63324 1.05083 1.76094 1.14499 1.85509L5.29499 6.00009L1.14499 10.1451C1.09265 10.1899 1.05014 10.2451 1.02012 10.3071C0.990112 10.3691 0.973247 10.4367 0.970587 10.5056C0.967928 10.5744 0.97953 10.6431 1.00467 10.7073C1.0298 10.7714 1.06793 10.8297 1.11666 10.8784C1.16539 10.9271 1.22366 10.9653 1.28783 10.9904C1.35199 11.0155 1.42065 11.0272 1.48951 11.0245C1.55837 11.0218 1.62594 11.005 1.68797 10.975C1.75 10.9449 1.80516 10.9024 1.84999 10.8501L5.99999 6.70509L10.145 10.8501C10.2406 10.932 10.3637 10.9748 10.4895 10.9699C10.6154 10.9651 10.7347 10.9129 10.8238 10.8239C10.9128 10.7348 10.965 10.6155 10.9698 10.4896C10.9747 10.3638 10.9319 10.2407 10.85 10.1451L6.70499 6.00009Z"
                      fill="#333333"/>
              </svg>
            </div>

            <div class="v-modal-header">
              <div class="v-modal-header__title" v-if="title">{{title}}</div>
            </div>

            <div class="v-modal-body">
              <slot name="body"/>
            </div>

            <div class="v-modal-emblem-wrap">
              <div class="v-modal-emblem">
                <svg xmlns="http://www.w3.org/2000/svg" width="348" height="413" viewBox="0 0 348 413" fill="none">
                  <g opacity="0.1">
                    <path d="M347.833 278.876C347.13 290.746 344.269 310.849 332.55 328.289C325.248 339.253 315.348 347.728 303.623 354.39C294.13 359.791 283.933 363.732 273.458 367.104C261.831 370.854 249.896 373.76 238.055 376.899C228.056 379.55 218.068 382.294 208.459 386.073C201.175 388.95 194.217 392.374 188.002 397.013C182.419 401.053 177.741 406.213 174.265 412.163H173.916C173.714 411.666 173.485 411.181 173.23 410.71C168.714 403.542 162.511 397.92 155.093 393.45C147.46 388.799 139.17 385.532 130.625 382.742C119.818 379.196 108.749 376.492 97.739 373.597C86.2229 370.563 74.7474 367.395 63.6614 363.134C53.2673 359.157 43.4137 354.292 34.5949 347.734C21.6731 338.271 11.9302 325.106 6.65623 309.983C3.89274 302.53 1.97587 294.79 0.941755 286.91C0.552263 283.741 0.279038 281.945 0 275.934V0H347.833V278.876ZM174.091 393.874C174.213 393.844 174.329 393.793 174.434 393.723C174.73 393.398 175.015 393.06 175.288 392.706C177.762 389.65 180.55 386.864 183.607 384.393C190.49 378.835 198.338 374.818 206.645 371.511C216.888 367.441 227.573 364.535 238.223 361.709C249.338 358.803 260.506 356.018 271.452 352.559C282.009 349.216 292.258 345.252 301.815 339.834C316.238 331.643 327.347 320.65 334.457 306.21C340.194 294.548 342.996 282.195 343.857 269.464C344.345 262.238 344.176 254.995 344.176 247.757C344.211 164.842 344.211 3.65075 344.211 3.65075H3.66238V254.204C3.70556 260.795 4.11701 267.378 4.8948 273.923C5.68972 281.245 7.24841 288.463 9.54544 295.461C14.6844 311.093 23.881 324.121 37.7458 334.148C46.0123 340.142 55.1857 344.612 64.8067 348.333C75.0904 352.286 85.7345 355.239 96.3903 358.105C106.819 360.913 117.283 363.645 127.654 366.651C136.433 369.107 144.93 372.475 153.006 376.702C161.063 380.986 168.15 386.34 173.632 393.427C173.769 393.591 173.923 393.741 174.091 393.874Z"
                          fill="#796743"/>
                    <path d="M301.879 226.527C296.229 262.424 278.504 287.043 278.504 287.043L285.84 287.119C285.84 287.119 259.884 316.738 242.822 315.232C240.578 315.029 278.829 283.805 290.944 218.644C296.601 188.223 289.607 155.709 289.607 155.709C296.537 161.028 307.105 193.426 301.879 226.527ZM264.034 137.647C265.836 153.337 266.454 169.139 265.883 184.921C264.139 232.561 251.449 260.604 230.143 285.573C224.644 292.008 177.504 334.898 177.504 334.898C217.615 335.782 254.82 292.647 254.82 292.647L245.042 292.694C245.24 292.147 268.755 268.586 277.539 222.632C284.986 183.683 271.098 148.373 271.098 148.373L264.034 137.647ZM216.418 292.322H200.268C200.268 292.322 249.391 258.692 249.391 186.223C249.391 147.483 243.496 118.091 243.496 118.091L230.707 96.7973V96.8961L230.579 96.681L230.48 108.639V111.034C230.48 125.457 224.667 144.891 215.203 154.349C210.363 159.202 204.611 163.051 198.28 165.674C191.948 168.298 185.16 169.645 178.306 169.638C199.629 176.841 222.359 166.15 234.34 147.047C237.52 172.155 239.026 200.321 229.887 224.946C222.609 244.548 211.075 260.959 199.007 274.091V254.966L185.904 246.019C185.904 246.019 186.206 265.412 185.375 264.993C185.375 264.993 178.98 261.581 176.44 258.407C169.772 252.443 164.319 243.252 164.319 243.252C164.319 243.252 164.674 264.93 163.918 264.447C150.262 255.727 147.396 241.194 147.396 241.194C147.495 241.374 147.199 256.239 147.199 256.239C143.667 254.304 140.387 251.941 137.432 249.205C132.892 244.909 130.073 237.578 130.073 237.578L95.007 244.507L90.5482 258.459L97.0823 252.39L122.353 247.647C124.681 251.251 127.313 254.65 130.218 257.808C135.032 263.04 143.409 268.522 143.409 268.522C143.461 268.255 143.472 265.249 143.461 264.162C152.309 274.673 154.675 276.713 158.918 279.567C164.051 283.024 169.418 286.118 174.981 288.828C174.981 288.828 175.196 271.33 175.289 271.446C178.948 276.589 183.546 280.995 188.839 284.433C177.287 295.166 164.642 304.659 151.111 312.756C150.495 313.162 127.951 326.481 129.247 326.853C170.551 338.619 216.418 292.322 216.418 292.322ZM300.077 268.574L300.112 268.447C307.053 243.362 324.458 207.802 303.571 149.117C312.343 158.546 317.773 173.963 320.173 188.066C320.115 183.944 319.883 179.747 319.429 175.498C313.802 122.277 284.335 82.3687 253.053 61.7838C233.898 49.1806 218.138 45.3438 214.052 51.7791C210.61 57.2204 214.871 75.7299 215.127 81.1886C215.65 92.6757 218.144 115.784 207.518 124.713C193.787 136.246 154.634 105.221 154.634 105.221C154.634 105.221 160.395 106.93 166.418 96.3787C166.865 95.594 167.255 94.8266 167.615 94.0534C171.051 82.171 171.865 70.4049 164.627 46.4774C166.807 45.2798 171.684 43.5417 175.358 42.4081C152.849 42.9138 132.921 42.4604 132.462 42.4604C132.462 53.2906 120.225 52.2558 120.225 46.6576C108.442 46.4309 102.204 45.5821 103.117 61.7315C103.117 61.7315 110.953 60.3072 113.726 60.1386C133.729 58.976 136.979 77.3576 135.334 89.583C133.706 101.5 127.311 99.0703 120.469 120.335C114.319 147.077 125.265 161.168 138.863 181.561C127.201 175.631 126.149 174.725 117.987 166.446C122.242 186.212 134.921 209.43 138.078 215.005C158.558 209.773 163.464 204.355 163.464 202.152V216.104C160.372 220.952 146.53 223.155 123.353 228.056C90.9551 233.788 92.0945 234.212 87.066 231.038C83.578 228.846 82.0317 224.527 80.9504 222.818C80.1133 222.865 64.336 224.515 60.662 225.196C58.668 225.568 56.5404 228.399 57.145 231.59C57.9646 235.898 60.3772 237.264 65.1789 236.822L65.2196 238.148C65.1324 238.148 58.9878 238.898 59.7551 244.682C60.5225 250.466 66.8706 250.757 66.9113 250.757C67.045 250.757 66.9869 251.565 66.9869 251.565C66.9869 251.565 61.3712 253.634 62.685 259.669C63.9989 265.703 70.2423 264.819 71.934 264.523L86.2812 262.912L90.5075 296.955L75.6778 298.594L72.3933 269.214C70.5527 269.554 68.684 269.717 66.8125 269.702C64.6034 269.627 55.7091 269.417 54.3313 262.093C53.1687 255.808 56.6567 253.413 56.6567 253.373C56.1044 253.018 51.4654 252.454 50.5294 247.135C49.5935 241.816 53.5233 239.299 53.9709 238.746C53.7209 238.514 49.9946 237.584 49.0063 231.957C48.0181 226.329 50.6864 223.713 51.7851 222.615C52.9434 221.487 54.3096 220.594 55.8079 219.987C55.8951 219.94 56.0114 219.906 56.1509 219.842L28.6307 222.649C28.6307 222.649 38.7168 196.774 68.5448 194.56C99.4716 192.269 112.528 214.028 112.528 214.028L86.4789 216.697C87.3218 218.441 88.8856 221.208 90.4319 222.027C94.9895 224.422 114.208 219.737 121.12 218.539C121.312 218.505 121.487 218.481 121.702 218.441C118.638 211.906 106.046 183.997 101.564 157.732C91.9318 158.081 74.0907 158.366 72.6723 155.779C69.2308 149.46 70.5679 149.053 69.0448 143.292C67.5217 137.531 57.4182 134.869 53.064 140.432C47.6518 147.315 49.7272 156.163 61.4177 158.197C60.9934 158.128 61.3771 158.081 61.2782 155.552H65.2196C65.2712 155.558 65.3219 155.57 65.3708 155.587C65.2022 160.116 65.987 162.139 68.196 164.016C58.3716 165.435 51.7212 161.825 48.5122 156.459C46.2592 156.759 43.9711 156.663 41.7514 156.174C40.9877 156.88 40.4025 157.758 40.0437 158.734C39.685 159.71 39.5629 160.757 39.6876 161.79C40.1701 166.714 43.6407 167.766 46.4776 167.696C50.9538 167.609 53.3314 162.412 53.3779 162.4L53.2035 172.196L102.617 172.045C102.617 172.045 93.9955 185.747 79.7936 191.339C73.2163 193.861 66.1952 195.02 59.1564 194.746C44.9603 194.385 35.6125 189.165 30.0027 183.997C26.3526 180.532 23.1727 176.604 20.5444 172.312L42.635 172.236C39.4797 171.053 36.9214 168.668 35.5195 165.604C33.0488 160.133 34.9091 156.802 37.2635 154.488C36.1354 153.879 35.0999 153.111 34.1882 152.21C32.735 150.761 31.6211 149.008 30.927 147.077C29.682 143.648 29.7006 139.889 30.9793 136.473C32.3454 132.578 36.2113 128.555 41.4026 128.038C45.9834 127.59 49.9888 128.358 53.4419 130.718V100.07L67.7949 100.14L68.1321 129.485C71.1027 129.741 74.3465 130.921 76.2184 134.398C78.0903 137.874 78.1833 143.275 78.1833 143.275C78.1833 143.275 77.7647 148.414 83.1072 149.291L100.384 149.361C99.7643 143.736 99.7935 138.057 100.471 132.439C101.995 121.3 105.663 113.499 109.232 108.279V108.238C109.279 108.168 109.337 108.087 109.401 108.005C110.327 106.664 111.335 105.381 112.418 104.163C115.168 100.774 118.533 96.8031 118.621 96.6927C123.934 90.0423 126.376 85.0661 125.748 76.3926C124.812 63.4755 99.053 62.586 95.8034 70.1956C93.6409 66.417 93.2979 62.4058 93.1177 58.3656C92.9374 54.3253 94.7628 51.5001 95.8034 49.541C99.7158 42.8731 109.395 42.7627 116.702 41.6349C116.493 23.6602 166.592 30.9908 183.834 43.1871C181.922 44.0532 174.434 48.5585 174.434 48.5585C179.166 58.4412 183.532 93.1524 184.439 113.429C200.245 121.358 198.838 99.8725 196.158 72.8116C194.839 59.4759 198.391 50.9711 204.117 45.1229C209.843 39.2747 217.627 39.0654 223.574 39.4782C249.368 41.2222 325.074 83.7116 327.998 174.736C329.225 212.883 311.012 263.238 300.077 268.574ZM51.4537 135.857L51.3607 135.723C49.3145 133.875 37.7867 134.392 37.6007 142.426C37.5135 147.03 39.2865 149.344 41.67 150.506V150.559C43.1502 151.213 44.7388 151.588 46.3555 151.663H46.5473C45.9846 148.828 46.1387 145.898 46.9955 143.138C47.8523 140.377 49.3847 137.875 51.4537 135.857Z"
                          fill="#796743"/>
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </transition>
  </div>
</template>

<script>
    export default {
        name: "VModal",

        props: {
            title: {
                type: String,
                default: "Модальное окно"
            },

            value: false
        },

        computed: {
            showModal: {
                get() {
                    return this.value;
                },

                set(value) {
                    this.$emit("input", value);
                }
            }
        },

        watch: {
            showModal(value) {
                if (value) {
                    document.body.classList.add("overflow--hidden");
                    this.$emit("show");
                } else {
                    document.body.classList.remove("overflow--hidden");
                    this.$emit("hide");
                }
            }
        },

        methods: {
            closeModal() {
                this.showModal = false;
            }
        }
    }
</script>

<style scoped>
  .modal-enter {
    opacity: 0;
  }

  .modal-leave-active {
    opacity: 0;
  }

  .modal-enter .modal-container,
  .modal-leave-active .modal-container {
    -webkit-transform: scale(1.1);
    transform: scale(1.1);
  }
</style>